/**
  ******************************************************************************
  * @file    delay.c
  * @brief   Модуль программных задержек
  * 
  * Реализует точные задержки в микросекундах и миллисекундах
  * Использует циклы NOP для генерации задержек
  ******************************************************************************
  */

#include "delay.h"

/**
  * @brief  Задержка в миллисекундах
  * @param  ms: количество миллисекунд
  * @retval None
  */
void delay_ms(uint32_t ms) {
    for (uint32_t i = 0; i < ms; i++) {
        for (uint32_t j = 0; j < 7200; j++) {
            __asm__("nop");
        }
    }
}

/**
  * @brief  Задержка в микросекундах
  * @param  us: количество микросекунд
  * @retval None
  */
void delay_us(uint32_t us) {
    for (uint32_t i = 0; i < us; i++) {
        for (uint32_t j = 0; j < 7; j++) {
            __asm__("nop");
        }
    }
}



